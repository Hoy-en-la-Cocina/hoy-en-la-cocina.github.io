<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}" media="screen">
    <link rel="stylesheet" href="{{ '/assets/css/mobile.css' | relative_url }}" media="only screen and (max-width:640px)">
    <link rel="stylesheet" href="{{ '/assets/css/non-screen.css' | relative_url }}" media="only screen and (max-width:640px)">

    <script src="{{ '/assets/js/modernizr.js' | relative_url }}"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="{{ '/assets/js/headsmart.min.js' | relative_url }}"></script>
    <script>
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>

    <title>Hoy, en la Cocina</title>
    <link rel="icon" href="/assets/apuchef.png" type="image/png">

{% seo %}

{% include head-custom.html %}
    <style>
      /* The box that appears */
      body {
            text-align: center;
            margin: 50px;
        }
        .box {
          display: none; /* Initially hidden */
          position: fixed;
          top: 30%;
          left: 50%;
          transform: translate(-50%, -50%); /* Centers both horizontally & vertically */
          background-color: #333;
          color: white;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Close button inside the box */
        .close-btn {
            cursor: pointer;
            background: red;
            color: white;
            border: none;
            padding: 5px 10px;
            margin-top: 10px;
            border-radius: 5px;
        }

        .fancy-border {
          /*display: inline-block;*/
          font-size: 20px;
          border: 2px solid #7C334F; 
          padding: 5px;
        }
    </style>
  </head>

  <body>
    <div class="shell">

      <header>
        <div class="ribbon-outer">
          <div class="ribbon-inner">
            <h1>Hoy, en la Cocina</h1>
            <h2>{{ site.description | default: site.github.project_tagline }}</h2>
          </div>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </div>
      </header>

      {% if site.show_downloads %}
        <section id="downloads">
          <span class="inner">
            <a href="{{ site.github.zip_url }}" class="zip"><em>download</em> .ZIP</a><a href="{{ site.github.tar_url }}" class="tgz"><em>download</em> .TGZ</a>
          </span>
        </section>
      {% else %}
        <div id="no-downloads">
          <span class="inner">
          </span>
        </div>
      {% endif %}


      <span class="banner-fix"></span>


      <section id="main_content">
      <div id="popupBox" class="box">
        <div id="boxtext"></div>
        <br>
        <button class="close-btn" onclick="hidepopBox()">Close</button>
      </div>

      <div id="addBox" class="box">
        <h2>Extras</h2>
          <div id="ingredients-list"></div>
        <br>
        <button class="close-btn" onclick="hideaddBox()">Close</button>
      </div>
      

        <p><b style="font-size:36px;">BREAKFAST</b></p>
        
        <div class="fancy-border" style="border-bottom: none;">
          <p id="french toast"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0,'french_toast')">Description</button>
            <button onclick="showBox(1,'french_toast')">Add to Order</button>
          </div>
        </div>
        <div class="fancy-border" style="border-bottom: none;">
          <p id="fried egg"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'fried_egg')">Description</button>
            <button onclick="showBox(1, 'fried_egg')">Add to Order</button>
          </div>
        </div>
        <div class="fancy-border">
          <p id="bacon"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'bacon')">Description</button>
            <button onclick="showBox(1, 'bacon')">Add to Order</button>
          </div>
        </div>
        
        <p><b style="font-size:36px;">PASTA</b></p>
        <div class="fancy-border" style="border-bottom: none;">
          <p id="carbonara"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0,'carbonara')">Description</button>
            <button onclick="showBox(1,'carbonara')">Add to Order</button>
          </div>
        </div>
        <div class="fancy-border" style="border-bottom: none;">
          <p id="roasted pepper"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'roasted_pepper_sauce')">Description</button>
            <button onclick="showBox(1, 'roasted_pepper_sauce')">Add to Order</button>
          </div>
        </div>
        <div class="fancy-border">
          <p id="putanesca"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'putanesca')">Description</button>
            <button onclick="showBox(1, 'putanesca')">Add to Order</button>
          </div>
        </div>
        <p><b style="font-size:36px;">OTHER</b></p>
        <div class="fancy-border" style="border-bottom: none;">
        <p id="gumbo"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'gumbo')">Description</button>
            <button onclick="showBox(1, 'gumbo')">Add to Order</button>
          </div>
        </div>
        <div class="fancy-border" style="border-bottom: none;">
        <p id="buffalo wings"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'buffalo_wings')">Description</button>
            <button onclick="showBox(1, 'buffalo_wings')">Add to Order</button>
          </div>
        </div>
        <div class="fancy-border">
          <p id="egg"></p>
          <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="showBox(0, 'egg')">Description</button>
            <button onclick="showBox(1, 'egg')">Add to Order</button>
          </div>
        </div>
        
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
              <p id="random"></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </footer>

    </div>
  </body>

<script>
  var ingredient_dict={
    // Count
    egg:[3190/12.0,155], 
    // Count
    egg_white:[3190/12.0,17],
    // Count
    egg_yolk:[3190/12.0,55],
    // Serving
    fettucine:[990/5.0,270],
    // Gram
    parmesan:[4250/145.0,94.8*5/145.0],
    // Count
    bacon_thin:[3190/15.0,50],
    // Teeth
    garlic:[1090/27.0,12.4],
    // Milliliters
    olive_oil:[13850/1000.0,8210/1000.0],
    // Count
    red_pepper:[1690,40],
    // Grams
    pistaccio:[2350/80.0, 600/100.0],
    // Count
    tomato:[1075/2.5, 22],
    // Count
    onion:[775/1.2,44],
    // Grams
    flour:[1000/1000.0, 340/100],
    // Count
    longaniza:[6190/4.0, 257.5*2],
    // Grams, unit is 500 grams
    shrimp_large:[7990/500.0, 68/100.0],
    // Grams, one thing is 1500 grams
    celery:[1390/1500.0,16/100.0],
    // Cups, serving is like 1/4 cup
    rice_white:[2690/5.0, 167.5/0.25],
    // Grams, one thing is 240 grams
    capers:[2990/240.0,34/100.0],
    // Grams, one thing is 380 grams
    tomatos_canned:[1750/380.0,22/100.0],
    // Grams, one thing is 240 grams
    anchovies:[6890/240.0,175/100.0],
    // Grams, one thing is 200 grams
    olives_black:[1890/200.0, 239/100.0],
    // Count
    wings_flats:[4190/24.0, 140.8/3],
    // Grams, one thing is 250 grams
    hot_sauce_hot:[2290/250, 19/100.0],
    // Grams, one thing is 250 grams,
    hot_sauce_mild:[1990/250,80/100.0],
    // Grams, one thing is 250,
    butter:[2950/250, 740/100],
    // Pesos, just for adding to the price for spices i don't care to do the math for
    misc:[1, 0],
    // Grams, one thing is 1 kg
    sugar:[1250/1000.0, 400/100.0],
    // Cups, one thing is 4.22 cups
    milk:[1000/4.22,59/118.0],
    // Count, remember 1 is half a thing
    marraqueta:[200, 268],
    // milliliters, one thing is 710
    syrup_gringo:[3490/710.0,333/100]
  };

const all_dishes = {
  // Can make per order
  carbonara: {
    shown_name:"(Almost) Carbonara",
    html_id:'carbonara',
    description:`Pasta dish with bacon (traditionally guanciale, hence 'almost') and cheese sauce. 
          The sauce is made by whipping egg yolks & parmesan with the rendered fat of the bacon, giving it a smooth and creamy texture.`,
    amount: 1,
    recipe: {
      egg_yolk: 2,
      fettucine: 1,
      parmesan: 30,
      bacon_thin: 3,
      garlic: 2
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Make jar of sauce
  roasted_pepper_sauce: {
    shown_name:"Roasted Red Pepper & Pistaccio Sauce",
    html_id:'roasted pepper',
    description:`They sell a similar sauce to this in supermarkets in Italy, 
        one of my favorite things I tried there. Very simple and light.`,
    amount: 1/4.0,
    recipe: {
      red_pepper: 1,
      pistaccio: 80,
      olive_oil: 15,
      garlic: 4,
      fettucine: 5
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Make whole pot
  gumbo: {
    shown_name:"Shrimp & Sausage Gumbo",
    html_id:'gumbo',
    description:`Cajun stew made with a very dark roux base and the 'holy trinity' of cajun cooking (onion,
        red pepper, celery). While meat additions vary, this recipe uses large shrimp and seared longaniza.`,
    amount: 1/5.0,
    recipe: {
      red_pepper: 2,
      onion: 1,
      celery: 400,
      flour: 100,
      olive_oil: 20,
      longaniza: 4,
      shrimp_large: 500,
      rice_white: 0.25 * 5
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Can be per order
  putanesca: {
    shown_name:"Putanesca",
    html_id:'putanesca',
    description:`Kitchen sink pasta. Tomato sauce with garlic, anchovies, red pepper, olives, and capers.
        Complex and delicious.`,
    amount: 1,
    recipe: {
      garlic: 1,
      capers: 12,
      olives_black: 40,
      anchovies: 40,
      tomatos_canned: 380,
      olive_oil: 15,
      fettucine: 1
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Can be per order
  buffalo_wings: {
    shown_name:"Buffalo Wings",
    html_id:'buffalo wings',
    description:`KING OF THE GRINGO FOODS. Buttery hot sauce over air-fried chicken wings. 
        Nutritional value was not of great concern when writing this recipe. Very messy. Easily a 10/10 top food.`,
    amount: 1,
    recipe: {
      wings_flats: 8,
      hot_sauce_hot: 30,
      butter: 15,
      misc: 300,
      flour: 20
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Can be per order
  french_toast: {
    shown_name:"Marraqueta French Toast Sticks",
    html_id:'french toast',
    description:`Crusty old marraqueta dipped in batter and cooked in a pan. Moist and sweet and cinnamony. 
        Comes with maple syrup, the cheap gringo variety is best (more options potentially coming soon).`,
    amount: 1,
    recipe: {
      marraqueta: 1,
      egg: 1,
      milk: 1 / 6.0,
      flour: 15 / 2.0,
      sugar: 25 / 2.0,
      syrup_gringo: 20
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Can be per order
  egg_fried: {
    shown_name:"Fried Egg",
    html_id:'fried egg',
    description:`Open up da egg put da egg in da pan add da salt add da peppa put in mouth. Can be over easy or over hard.`,
    amount: 1,
    recipe: {
      egg: 1,
      olive_oil: 7
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  },

  // Egg
  egg: {
    shown_name:"Egg",
    html_id:'egg',
    description:`It's just an egg. Like literally one of those white spheroidal things. I will not cook it or alter it in any way.
        I will hand you a single egg if you ask me to. I have no clue why you would order this.`,
    amount: 1,
    recipe: {
      egg: 1
    },
    options: {
      cinnamon: 1,
      chocolate: 1,
      coffee: 1
    },
    extras: {
      bacon: 1,
      sausage: 1
    }
  }
};

  function roundnum(num){
    return Math.ceil(num / 50)*50;
  }

  function get_sums(dish, ingredients, net) {
    var pricesum = 0;
    var calsum = 0;
    for (let key in dish) {
      pricesum += ingredients[key][0] * dish[key];
      calsum += ingredients[key][1] * dish[key];
    };

    return {price:roundnum(pricesum*net), cals:calsum*net};
  }
  function show_results(dish) {
    let results = get_sums(dish.recipe, ingredient_dict, dish.amount);
    document.getElementById(dish.html_id).innerHTML = `${dish.shown_name} <br>| $${results.price.toFixed(0)} |  ${results.cals.toFixed(0)} cal |`;
  }

  for (const name in all_dishes) {
    const dish = all_dishes[name]
    show_results(dish)
  }

  //show_results(carbonara, 1, "carbonara", "(Almost) Carbonara")
  //show_results(roasted_pepper_sauce, 1/4.0, "roasted pepper", "Roasted Red Pepper & Pistaccio Sauce")
  //show_results(gumbo, 1/5.0, "gumbo", "Shrimp & Sausage Gumbo")
  //show_results(egg, 1, "egg", "Egg")
  //show_results(putanesca, 1, "putanesca", "Putanesca")
  //show_results(buffalo_wings,1,"buffalo wings", "Buffalo Wings")
  //show_results(french_toast,1,"french toast", "Marraqueta French Toast Sticks")
  //show_results(egg_fried,1,"fried egg", "Fried Egg")
  //show_results(bacon,1,"bacon", "Strip of Bacon")

  function showBox(mode, dish) {
    if (mode == 0) {
      //This is for the DESCRIPTION box
      document.getElementById("popupBox").style.display = "block";
      document.getElementById("boxtext").innerHTML = all_dishes[dish].description;
    } else {
      //This is for the ADD THINGS box
      //This is for extras
      document.getElementById("addBox").style.display = "block";
      const ingredients = all_dishes[dish].extras

      const listContainer = document.getElementById('ingredients-list');

      ingredients.forEach((ingredient, index) => {
        const item = document.createElement('div');
        item.className = 'ingredient';

        item.innerHTML = `
          <div class="ingredient-name">${ingredient}</div>
          <button onclick="changeCount(${index}, -1)">-</button>
          <div class="counter" id="counter-${index}">0</div>
          <button onclick="changeCount(${index}, 1)">+</button>
        `;

        listContainer.appendChild(item);
      });

        const counts = new Array(ingredients.length).fill(0);
      }
  }

  function hidepopBox() {
    document.getElementById("popupBox").style.display = "none";
  }
  function hideaddBox() {
    document.getElementById("addBox").style.display = "none";
  }

  function getRandomEntry(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  //Stuff for the addition of extras
  

    function changeCount(index, delta) {
      counts[index] = Math.max(0, counts[index] + delta); // Prevent negative counts
      document.getElementById(`counter-${index}`).textContent = counts[index];
    }
  
  const messagelist = ["there is no rat hiding in my hair doing the cooking stop asking",
                       "my name is not and never has been mevin michael moy",
                       "food tastes better if you believe in ghosts",
                       "personally, I wouldn't trust me but I appreciate the sentiment",
                       "look, austria-hungary was dissolved like 100 years ago, but hear me out...",
                       "he who has stolen from the wizards has earned the nat 20 fireball",
                       "looking at the sun is a good idea",
                       "human beings weren't meant to be able to see the moon",
                       "i once saw a man in a gorilla suit dancing in the middle of the street and it changed me",
                       "could you imagine what would happen if brian stevenson didn't do that one thing",
                       "pink is not a real color and i will drown in pepto bismol on that hill",
                       "when the going gets tough i grab a beer",
                       "i don't believe the official story about the mariana trench",
                       "please don't leave me i can't escape this ribbon",
                       "in some cultures, 3*3 could be 10",
                       "i could beat batman in a fight if i went all out",
                       "cheese is literally goblin magic",
                       "if apples grew on trees they'd be cheaper",
                       "i've never met a sandwich too large to finish in one go",
                       "if i could erase one person from existence it would probably be whoever ended myspace",
                       "every good story ends with changing the name of constantinople",
                       "we're talking away. i don't know what i'm to say. i'll say it anyway",
                       "singing in the rain is vastly overrated",
                       "huge fan of turnips here, love those lil guys",
                       "inception actually is as good as they say",
                       "never buy what you can convince a crow to steal for you",
                       "*that one drum part from in the air tonight by phil collins*",
                       "onions and apples are the same thing if you think about it",
                       "i'd put tiramisu and cheesecake on here but i'd get fat again eating leftovers",
                      ];
  document.getElementById("random").innerHTML = getRandomEntry(messagelist); // Random fruit from the list
  
</script>
</html>
